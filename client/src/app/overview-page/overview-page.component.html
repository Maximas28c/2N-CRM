<div class="page-title">
    <h4>
        Yesterdays overview ({{this.yesterday | date:'dd.MM.yyyy'}})
        <i
         (click)="openInfo()"
         class="material-icons black-text pointer"
         >
            info_outline
        </i>
    </h4>
</div>

<div 
 class="row"
 *ngIf="data$ | async as data; else loader"
>
    <div class="col s12 l6">
        <div class="card light-blue lighten-2 white-text">
            <div class="card-content">
                <span class="card-title">Proceeds: </span>
                <h3>{{data.gain.yesterday}}$</h3>
                <h3
                 class="m0 mb1"
                 [ngClass]="{
                     'green-text text-darken-2': data.gain.isHigher,
                     'red-text text-darken-2': !data.gain.isHigher
                 }"
                >
                    <i class="material-icons">
                        {{data.gain.isHigher ? 'arrow_upward' : 'arrow_downward'}}     
                    </i>
                    {{data.gain.percent}}%
                </h3>
                <p>
                    Your Proceeds 
                    {{data.gain.percent}}% 
                    {{data.gain.isHigher ? ' higher' : ' lower'}}
                    than avg proceeds:  
                    {{data.gain.compare}} $/day
                </p>
            </div>
        </div>
    </div>

    <div class="col s12 l6">
        <div class="card orange lighten-2 white-text">
            <div class="card-content">
                <span class="card-title">Orders:</span>
                <h3>{{data.orders.compare}}</h3>
                <h3
                 class="m0 mb1"
                 [ngClass]="{
                    'green-text text-darken-2': data.orders.isHigher,
                    'red-text text-darken-2': !data.orders.isHigher
                 }"
                >
                    <i class="material-icons">
                        {{data.orders.isHigher ? 'arrow_upward' : 'arrow_downward'}} 
                    </i>
                    {{data.orders.percent}}%
                </h3>
                <p>
                    Number of yesterdays orders is
                    {{data.orders.percent}}%
                    {{data.orders.isHigher ? ' higher' : ' lower'}}
                    than avg number of orders per day: 
                    {{data.orders.compare}} orders/day
                </p>
            </div>
        </div>
    </div>
</div>

<ng-template #loader>
    <app-loader></app-loader>
</ng-template>

<div class="tap-target" data-target="menu" #tapTarget>
    <div class="tap-target-content">
        <h5>This page:</h5>
        <p>Overview page will show sells dynamics, and sells for previos day. Comparing yesterdays check with average day check will help you understand better your business.</p>
    </div>
</div>
